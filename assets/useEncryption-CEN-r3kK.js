import{Z as H,o as P,d as R,r as U,$ as V,w as W,g as G,a0 as K,a1 as $,a2 as q,a as h}from"./index-LhTk3wao.js";function X(e){return K()?($(e),!0):!1}function L(e){return typeof e=="function"?e():H(e)}const Z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=Object.prototype.toString,Q=e=>B.call(e)==="[object Object]",Y=()=>{};function ee(e,r){function n(...u){return new Promise((l,f)=>{Promise.resolve(e(()=>r.apply(this,u),{fn:r,thisArg:this,args:u})).then(l).catch(f)})}return n}const D=e=>e();function te(e=D){const r=U(!0);function n(){r.value=!1}function u(){r.value=!0}const l=(...f)=>{r.value&&e(...f)};return{isActive:V(r),pause:n,resume:u,eventFilter:l}}function ne(e){return G()}function re(e,r,n={}){const{eventFilter:u=D,...l}=n;return W(e,ee(u,r),l)}function se(e,r,n={}){const{eventFilter:u,...l}=n,{eventFilter:f,pause:w,resume:y,isActive:m}=te(u);return{stop:re(e,r,{...l,eventFilter:f}),pause:w,resume:y,isActive:m}}function oe(e,r=!0,n){ne()?P(e,n):r?e():R(e)}const j=Z?window:void 0;function ie(e){var r;const n=L(e);return(r=n?.$el)!=null?r:n}function T(...e){let r,n,u,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,u,l]=e,r=j):[r,n,u,l]=e,!r)return Y;Array.isArray(n)||(n=[n]),Array.isArray(u)||(u=[u]);const f=[],w=()=>{f.forEach(a=>a()),f.length=0},y=(a,t,o,p)=>(a.addEventListener(t,o,p),()=>a.removeEventListener(t,o,p)),m=W(()=>[ie(r),L(l)],([a,t])=>{if(w(),!a)return;const o=Q(t)?{...t}:t;f.push(...n.flatMap(p=>u.map(b=>y(a,p,b,o))))},{immediate:!0,flush:"post"}),i=()=>{m(),w()};return X(i),i}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O="__vueuse_ssr_handlers__",ae=ue();function ue(){return O in E||(E[O]=E[O]||{}),E[O]}function le(e,r){return ae[e]||r}function ce(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const fe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F="vueuse-storage";function M(e,r,n,u={}){var l;const{flush:f="pre",deep:w=!0,listenToStorageChanges:y=!0,writeDefaults:m=!0,mergeDefaults:i=!1,shallow:a,window:t=j,eventFilter:o,onError:p=s=>{console.error(s)},initOnMounted:b}=u,g=(a?q:U)(typeof r=="function"?r():r);if(!n)try{n=le("getDefaultStorage",()=>{var s;return(s=j)==null?void 0:s.localStorage})()}catch(s){p(s)}if(!n)return g;const v=L(r),_=ce(v),S=(l=u.serializer)!=null?l:fe[_],{pause:k,resume:z}=se(g,()=>I(g.value),{flush:f,deep:w,eventFilter:o});t&&y&&oe(()=>{n instanceof Storage?T(t,"storage",A):T(t,F,x),b&&A()}),b||A();function N(s,c){if(t){const d={key:e,oldValue:s,newValue:c,storageArea:n};t.dispatchEvent(n instanceof Storage?new StorageEvent("storage",d):new CustomEvent(F,{detail:d}))}}function I(s){try{const c=n.getItem(e);if(s==null)N(c,null),n.removeItem(e);else{const d=S.write(s);c!==d&&(n.setItem(e,d),N(c,d))}}catch(c){p(c)}}function J(s){const c=s?s.newValue:n.getItem(e);if(c==null)return m&&v!=null&&n.setItem(e,S.write(v)),v;if(!s&&i){const d=S.read(c);return typeof i=="function"?i(d,v):_==="object"&&!Array.isArray(d)?{...v,...d}:d}else return typeof c!="string"?c:S.read(c)}function A(s){if(!(s&&s.storageArea!==n)){if(s&&s.key==null){g.value=v;return}if(!(s&&s.key!==e)){k();try{s?.newValue!==S.write(g.value)&&(g.value=J(s))}catch(c){p(c)}finally{s?R(z):z()}}}}function x(s){A(s.detail)}return g}const pe='Twoja zguba została ukryta w "starej kuchni" na podwórku. To jest budynek obok kasztana. Prezentu szukaj tam pod stołem.',de=5,we=[{id:1,answer:"KLUSEK"},{id:2,answer:40}],ye=M("initialized",!1),C=M("userAnswers",{}),ve=()=>{const e=pe,r=h(()=>{const a=e.toLowerCase().replaceAll(/\s/g,"").split(""),t={};return a.forEach(o=>{o in t?t[o]++:t[o]=1}),Object.entries(t).sort((o,p)=>p[1]-o[1])}),n="aąbcćdeęfghijklłmnńoópqrsśtuvwxyzźż".split(""),u=h(()=>n.filter(i=>!r.value.some(a=>a[0]===i))),l=h(()=>[...u.value].reverse().filter((t,o)=>o<de).map((t,o)=>{const p=r.value[o][0];return[t,p]})),f=h(()=>{let i=e.toLowerCase();l.value.forEach(([t,o])=>{i=i.replaceAll(o,t)});const a=e.split("").map((t,o)=>t===t.toUpperCase()?o:null).filter(t=>t!==null);return i.split("").map((t,o)=>a.includes(o)?t.toUpperCase():t).join("")}),w=h(()=>{let i=f.value;return l.value.map(([a,t])=>{const o=i.replaceAll(a,t).replaceAll(a.toUpperCase(),t.toUpperCase());return i=o,[a,t,o]})}),y=i=>{const a=we.find(o=>o.id===i),t=C.value[i];return a===void 0||t===void 0?!1:C.value[i]===a.answer};return{encrypted:f,changes:l,decryption:w,getIsRight:y,getHint:i=>y(i)?l.value[i-1].join(" -> "):"",initialized:ye,userAnswers:C}};export{de as M,M as a,ve as u};
